{
  "common": {
    "name": "smart-appliances",
    "version": "0.1.0",
    "licenseInformation": { "license": "MIT" },
    "tier": 1,
    "news": {
      "0.1.0": {
        "en": "Initial release",
        "de": "Erste Version"
      }
    },
    "title": "Smart Appliances Scheduler",
    "titleLang": {
      "en": "Smart Appliances Scheduler",
      "de": "Intelligenter Großgeräte-Scheduler"
    },
    "desc": {
      "en": "Intelligent appliance scheduler with Tibber energy price optimization",
      "de": "Intelligenter Großgeräte-Scheduler mit Tibber-Energiepreis-Optimierung"
    },
    "authors": [
      "herrniffler"
    ],
    "keywords": [
      "smart home",
      "appliances",
      "tibber",
      "energy",
      "scheduler"
    ],
    "license": "MIT",
    "platform": "Javascript/Node.js",
    "main": "main.js",
    "icon": "smart-appliances.png",
    "enabled": true,
    "extIcon": "https://raw.githubusercontent.com/herrniffler/ioBroker.smart-appliances/main/admin/smart-appliances.png",
    "readme": "https://github.com/herrniffler/ioBroker.smart-appliances/blob/main/README.md",
    "loglevel": "info",
    "mode": "daemon",
    "type": "energy",
    "compact": true,
    "connectionType": "local",
    "dataSource": "poll",
    "adminUI": {
      "config": "json"
    },
    "dependencies": [
      {
        "js-controller": ">=3.3.22"
      }
    ],
    "globalDependencies": [
      {
        "admin": ">=4.0.9"
      }
    ],
    "messagebox": true
  },
  "native": {
    "devices": {
      "type": "array",
      "title": "Devices",
      "description": "List of devices managed by this adapter. Each device can have type-specific settings.",
      "default": [],
      "items": {
        "oneOf": [
          {
            "title": "Dishwasher",
            "type": "object",
            "properties": {
              "enabled": { "type": "boolean", "default": true },
              "id": { "type": "string" },
              "name": { "type": "string" },
              "type": { "const": "dishwasher" },
              "powerStateId": { "type": "string" },
              "switchStateId": { "type": "string" },
              "powerThreshold": { "type": "number", "default": 0.5 },
              "detectTimeSeconds": { "type": "number", "default": 10 },
              "requiredMinutes": { "type": "number", "default": 120 },
              "minRuntimeMinutes": { "type": "number", "default": 110 },
              "zeroGraceMinutes": { "type": "number", "default": 10 },
              "postConfirmMinutes": { "type": "number", "default": 2 },
              "cooldownMinutes": { "type": "number", "default": 10 },
              "dryReminderMinutes": { "type": "number", "default": 45 }
            },
            "required": ["id","name","type"]
          },
          {
            "title": "Washing Machine",
            "type": "object",
            "properties": {
              "enabled": { "type": "boolean", "default": true },
              "id": { "type": "string" },
              "name": { "type": "string" },
              "type": { "const": "washingmachine" },
              "powerStateId": { "type": "string" },
              "switchStateId": { "type": "string" },
              "startTriggerStateId": { "type": "string" },
              "startTriggerDelayMs": { "type": "number", "default": 5000 },
              "powerThreshold": { "type": "number", "default": 0.5 },
              "requiredMinutes": { "type": "number", "default": 120 },
              "minRuntimeMinutes": { "type": "number", "default": 10 },
              "postConfirmMinutes": { "type": "number", "default": 1 },
              "transferBufferMinutes": { "type": "number", "default": 10 },
              "dryerDuration": { "type": "number", "default": 180 }
            },
            "required": ["id","name","type"]
          },
          {
            "title": "Dryer",
            "type": "object",
            "properties": {
              "enabled": { "type": "boolean", "default": true },
              "id": { "type": "string" },
              "name": { "type": "string" },
              "type": { "const": "dryer" },
              "powerStateId": { "type": "string" },
              "switchStateId": { "type": "string" },
              "powerThreshold": { "type": "number", "default": 0.5 },
              "requiredMinutes": { "type": "number", "default": 180 }
            },
            "required": ["id","name","type"]
          }
        ]
      }
    },
    "tibberEnabled": true,
    "tibberHome": "",
    "telegramEnabled": true,
    "telegramInstance": "telegram.0",
    "todoistEnabled": false,
    "todoistProjectId": "",
    "todoistSectionId": "",
    "todoistDueString": "today",
    "todoistPriority": 2,
    "washingPrograms": {
      "type": "array",
      "default": [{ "program": "30", "duration": 120, "withDryer": false }],
      "description": "List of available washing programs with duration (minutes) and default dryer usage."
    },
    "dryerDuration": {
      "type": "number",
      "default": 180,
      "description": "Default dryer duration in minutes. Can be overridden per device."
    }
  },
  "objects": [],
  "instanceObjects": [
    {
      "_id": "info",
      "type": "channel",
      "common": {
        "name": "Information"
      },
      "native": {}
    },
    {
      "_id": "info.connection",
      "type": "state",
      "common": {
        "role": "indicator.connected",
        "name": "Device or service connected",
        "type": "boolean",
        "read": true,
        "write": false,
        "def": false
      },
      "native": {}
    }
  ]
}
